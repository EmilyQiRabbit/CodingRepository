#### ç›®å½•
(toc generated by [ghtoc](https://github.com/sk1418/ghtoc))
- [é¢è¯•é¢˜æ€»ç»“](#é¢è¯•é¢˜æ€»ç»“)
    - [ç¼–ç¨‹é¢˜](#ç¼–ç¨‹é¢˜)
        - [1. åˆ¤æ–­æ ‘ä¸­çš„è·¯å¾„æ˜¯å¦å­˜åœ¨ï¼š](#1.-åˆ¤æ–­æ ‘ä¸­çš„è·¯å¾„æ˜¯å¦å­˜åœ¨ï¼š)
        - [2. æ­£åˆ™ï¼Œä¸€å †æ­£åˆ™...ä¸ä¼šç”¨ï¼ŒæŠ“ç‹‚](#2.-æ­£åˆ™ï¼Œä¸€å †æ­£åˆ™...ä¸ä¼šç”¨ï¼ŒæŠ“ç‹‚)
            - [æ­£åˆ™é¢˜ç›®](#æ­£åˆ™é¢˜ç›®)
    - [ç®€ç­”é¢˜](#ç®€ç­”é¢˜)
        - [1. è§£é‡Šä¸‹ JavaScript åŸå‹é“¾æ˜¯ä»€ä¹ˆä¸œä¸œ](#1.-è§£é‡Šä¸‹-JavaScript-åŸå‹é“¾æ˜¯ä»€ä¹ˆä¸œä¸œ)
        - [2. window.loaded å’Œ dom.loaded çš„åŒºåˆ«](#2.-window.loaded-å’Œ-dom.loaded-çš„åŒºåˆ«)
        - [3. CSS flexï¼ˆåˆä¸€ä¸ªè®°äº†å¿˜å¿˜äº†è®°ç³»åˆ—ï¼‰](#3.-CSS-flexï¼ˆåˆä¸€ä¸ªè®°äº†å¿˜å¿˜äº†è®°ç³»åˆ—ï¼‰)
        - [4. Array.prototype.reduce](#4.-Array.prototype.reduce)
        - [5. è·¨åŸŸé—®é¢˜](#5.-è·¨åŸŸé—®é¢˜)
            - [æµè§ˆå™¨çš„åŒæºç­–ç•¥](#æµè§ˆå™¨çš„åŒæºç­–ç•¥)
            - [è§£å†³æ–¹æ¡ˆä¸€ï¼šJSONP](#è§£å†³æ–¹æ¡ˆä¸€ï¼šJSONP)
            - [è§£å†³æ–¹æ³•äºŒï¼šiframe + form](#è§£å†³æ–¹æ³•äºŒï¼šiframe-+-form)
            - [è§£å†³æ–¹æ¡ˆä¸‰ï¼šCORS](#è§£å†³æ–¹æ¡ˆä¸‰ï¼šCORS)
            - [è§£å†³æ–¹æ¡ˆå››ï¼šè·¨åŸŸ DOM æŸ¥è¯¢çš„æ­£ç¡®æ–¹å¼ï¼špostMessage](#è§£å†³æ–¹æ¡ˆå››ï¼šè·¨åŸŸ-DOM-æŸ¥è¯¢çš„æ­£ç¡®æ–¹å¼ï¼špostMessage)
        - [6. http/https çš„åŒºåˆ«](#6.-http/https-çš„åŒºåˆ«)

# é¢è¯•é¢˜æ€»ç»“

## ç¼–ç¨‹é¢˜

### 1. åˆ¤æ–­æ ‘ä¸­çš„è·¯å¾„æ˜¯å¦å­˜åœ¨ï¼š

```js
var hasPathSum = function(root, sum) {
    const result = false
    let dfs = function(node, current) {
        if (!node) {
            return
        }
        // åˆ¤æ–­
        if (!node.left && !node.right && current + node.value === sum) {
            result = true
        } else {
            dfs(node.left, current + node.value)
            dfs(node.right, current + node.value)
        }
    }
    dfs(root, 0)
    return result
}
```

### 2. æ­£åˆ™ï¼Œä¸€å †æ­£åˆ™...ä¸ä¼šç”¨ï¼ŒæŠ“ç‹‚

#### æ­£åˆ™é¢˜ç›®

**1. `var s1 = "get-element-by-id";` ç»™å®šè¿™æ ·ä¸€ä¸ªè¿å­—ç¬¦ä¸²ï¼Œå†™ä¸€ä¸ª functionï¼Œå°†å…¶è½¬æ¢ä¸ºé©¼å³°å‘½åæ³•å½¢å¼çš„å­—ç¬¦ä¸²ï¼š**

```js
var f = function(s) {
  return s.replace(/-\w/g, function(x) {
    return x.slice(1).toUpperCase();
  })
}
```

çŸ¥è¯†ç‚¹ï¼š
\w â€”â€” åŒ¹é…åŒ…æ‹¬ä¸‹åˆ’çº¿çš„ä»»ä½•å•è¯å­—ç¬¦ã€‚ç­‰ä»·äº`[A-Za-z0-9_]`ã€‚

**2. å®ç°åƒä½åˆ†éš”ç¬¦ï¼š**

```js
function format(number) {
  var regx = /\d{1,3}(?=(\d{3})+$)/g;
  // $& è¡¨ç¤ºä¸ regx ç›¸åŒ¹é…çš„å­—ç¬¦ä¸²
  return (number + '').replace(regx, '$&,');
}
```

çŸ¥è¯†ç‚¹ï¼š

(?:pattern) â€”â€” åŒ¹é… pattern **ä½†ä¸è·å–åŒ¹é…ç»“æœ**ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™æ˜¯ä¸€ä¸ªéè·å–åŒ¹é…ï¼Œä¸è¿›è¡Œå­˜å‚¨ä¾›ä»¥åä½¿ç”¨ã€‚è¿™åœ¨ä½¿ç”¨æˆ–å­—ç¬¦â€œ(|)â€æ¥ç»„åˆä¸€ä¸ªæ¨¡å¼çš„å„ä¸ªéƒ¨åˆ†æ˜¯å¾ˆæœ‰ç”¨ã€‚ä¾‹å¦‚ â€œindustr(?:y|ies)â€ å°±æ˜¯ä¸€ä¸ªæ¯” â€œindustry|industriesâ€ æ›´ç®€ç•¥çš„è¡¨è¾¾å¼ã€‚

+ â€”â€” åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼ä¸€æ¬¡æˆ–å¤šæ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€œzo+â€èƒ½åŒ¹é…â€œzoâ€ä»¥åŠâ€œzooâ€ï¼Œä½†ä¸èƒ½åŒ¹é…â€œzâ€ã€‚+ç­‰ä»·äº{1,}ã€‚

**3. å»é™¤é¦–å°¾çš„'/'ï¼š**

```js
var str = '/asdf//';
str = str.replace(/^\/*|\/*$/g, '');
```

çŸ¥è¯†ç‚¹ï¼š

* â€”â€” åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–å¤šæ¬¡ã€‚ä¾‹å¦‚ï¼Œ`zo*` èƒ½åŒ¹é…â€œzâ€ä»¥åŠâ€œzooâ€ã€‚*ç­‰ä»·äº{0,}ã€‚

## ç®€ç­”é¢˜

### 1. è§£é‡Šä¸‹ JavaScript åŸå‹é“¾æ˜¯ä»€ä¹ˆä¸œä¸œ

*  `__proto__` æ˜¯ç”¨æ¥åœ¨åŸå‹é“¾ä¸ŠæŸ¥æ‰¾ä½ éœ€è¦çš„æ–¹æ³•çš„å®é™…å¯¹è±¡ï¼Œæ‰€æœ‰çš„å¯¹è±¡éƒ½æœ‰è¿™ä¸ªå±æ€§ã€‚è¿™ä¸ªå±æ€§è¢« JavaScript å¼•æ“ç”¨ä½œç»§æ‰¿ä½¿ç”¨ã€‚

*  `prototype` æ˜¯å‡½æ•°ç‹¬æœ‰çš„å±æ€§ã€‚å½“æˆ‘ä»¬ä½¿ç”¨å…³é”®è¯ new å¹¶ä¸”å°†å‡½æ•°ä½œä¸ºæ„é€ å‡½æ•°æ¥æ„é€ å¯¹è±¡çš„æ—¶å€™, å®ƒè¢«ç”¨æ¥æ„å»ºå¯¹è±¡çš„ `__proto__`å±æ€§ã€‚

*  `__proto__` å±æ€§å’Œ `prototype` å±æ€§éƒ½æŒ‡å‘çš„ä¸€ä¸ªå¯¹è±¡ã€‚

*  `(new A()).__proto__ === A.prototype` çš„ç»“æœä¸º trueï¼Œ`(new A()).prototype === undefined` çš„ç»“æœä¹Ÿä¸º trueï¼Œå…¶ä¸­ A è¡¨ç¤ºä¸€ä¸ªå‡½æ•°ï¼ˆä¹Ÿå°±æ˜¯æ„é€ å‡½æ•°ï¼‰ã€‚

### 2. window.loaded å’Œ dom.loaded çš„åŒºåˆ«

æ —å­ ğŸŒ°ï¼š

```js
window.addEventListener('load', (event) => {
    console.log('page is fully loaded');
});
// ä»¥åŠ...
document.addEventListener('DOMContentLoaded',function(){
    console.log('3 seconds passed');
});
```

> 1. dom.loadedï¼šå½“åˆå§‹çš„ HTML æ–‡æ¡£è¢«å®Œå…¨åŠ è½½å’Œè§£æå®Œæˆä¹‹åï¼ŒDOMContentLoaded äº‹ä»¶è¢«è§¦å‘ï¼Œè€Œæ— éœ€ç­‰å¾…æ ·å¼è¡¨ã€å›¾åƒå’Œå­æ¡†æ¶çš„å®ŒæˆåŠ è½½ã€‚

> 2. window.loadedï¼šThe load event is fired when the whole page has loaded, including all dependent resources such as stylesheets images. This is in contrast to DOMContentLoaded, which is fired as soon as the page DOM has been loaded, without waiting for resources finish loading

æ‰€ä»¥æ˜¯ DOMContentLoaded å…ˆè§¦å‘ï¼Œwindow.loaded åè§¦å‘ã€‚

### 3. CSS flexï¼ˆåˆä¸€ä¸ªè®°äº†å¿˜å¿˜äº†è®°ç³»åˆ—ï¼‰

ğŸ”—ï¼šhttp://www.ruanyifeng.com/blog/2015/07/flex-grammar.html

```js
import React from 'react'

class FlexStyleComponent extends React.Component {
  render () {
    return (<div class='flex_container'>
      <div class='flex_item'>flex item 1 </div>
      <div class='flex_item'>flex item 2 </div>
      <div class='flex_item'>flex item 3 </div>
      <div class='flex_item'>flex item 4 </div>
      <div class='flex_item'>flex item 5 </div>
      <div class='flex_item'>flex item 6 </div>
    </div>
    );
  }
}

export default FlexStyleComponent
```

```css
/***** flex test ******/
.flex_container {
  border: 1px gray solid;
  display: flex;
  flex-direction: row; /** column **/
  flex-wrap: wrap; /** nowrap **/
  justify-content: center;
  /** flex-start | flex-end | center | space-between | space-around **/
  align-content: center;
  /** flex-start | flex-end | center | space-between | space-around | stretch **/
  align-items: center;
  /** flex-start | flex-end | center | baseline | stretch **/
}

.flex_item {
  background: pink;
  border: 1px gray solid;
  text-align: center;
  width: 25%;
  box-sizing: border-box;
  padding: 20px;
  flex-grow: 1; /* default 0 */
  flex-shrink: 0; /* default 1 */
}
```

ps: å¦‚æœæ‰€æœ‰é¡¹ç›®çš„ flex-grow å±æ€§éƒ½ä¸º1ï¼Œåˆ™å®ƒä»¬å°†ç­‰åˆ†å‰©ä½™ç©ºé—´ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ã€‚å¦‚æœä¸€ä¸ªé¡¹ç›®çš„ flex-grow å±æ€§ä¸º2ï¼Œå…¶ä»–é¡¹ç›®éƒ½ä¸º1ï¼Œåˆ™å‰è€…å æ®çš„å‰©ä½™ç©ºé—´å°†æ¯”å…¶ä»–é¡¹å¤šä¸€å€ã€‚

å¦‚æœæ‰€æœ‰é¡¹ç›®çš„ flex-shrink å±æ€§éƒ½ä¸º1ï¼Œå½“ç©ºé—´ä¸è¶³æ—¶ï¼Œéƒ½å°†ç­‰æ¯”ä¾‹ç¼©å°ã€‚å¦‚æœä¸€ä¸ªé¡¹ç›®çš„ flex-shrink å±æ€§ä¸º0ï¼Œå…¶ä»–é¡¹ç›®éƒ½ä¸º1ï¼Œåˆ™ç©ºé—´ä¸è¶³æ—¶ï¼Œå‰è€…ä¸ç¼©å°ã€‚

æ —å­å†™äºï¼šhttps://stackblitz.com/edit/react-3bgjtj?file=FlexStyleComponent.js

### 4. Array.prototype.reduce

> reduce() æ–¹æ³•å¯¹ç´¯åŠ å™¨å’Œæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ ï¼ˆä»å·¦åˆ°å³ï¼‰åº”ç”¨ä¸€ä¸ªå‡½æ•°ï¼Œå°†å…¶ç®€åŒ–ä¸ºå•ä¸ªå€¼ã€‚

reduce()ï¼Œå½’å¹¶æ“ä½œï¼Œæ€»å…±ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯å‡½æ•°ï¼Œå¯ä»¥ç†è§£ä¸ºç´¯åŠ å™¨ï¼Œéå†æ•°ç»„ç´¯åŠ å›ä¼ çš„è¿”å›å€¼ï¼Œç¬¬äºŒä¸ªæ˜¯åˆå§‹æ•°å€¼ã€‚å¦‚æœæ²¡æœ‰æä¾›åˆå§‹å€¼ï¼Œåˆ™å°†ä½¿ç”¨æ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚

```js
const arr = [1, 2, 3, 4]
const total = arr.reduce((accumulator, num) => { 
  return accumulator + num; 
}, 0);
console.log(totalyears);
```

### 5. è·¨åŸŸé—®é¢˜

å‚è€ƒï¼š[ä¸è¦å†é—®æˆ‘è·¨åŸŸçš„é—®é¢˜äº†](https://segmentfault.com/a/1190000015597029)

#### æµè§ˆå™¨çš„åŒæºç­–ç•¥

[å®˜æ–¹å®šä¹‰ï¼š](https://developer.mozilla.org/en-US/docs/Web/Security/Same-origin_policy)

> The same-origin policy is a critical security mechanism that restricts how a document or script loaded from one origin can interact with a resource from another origin. 

> It helps isolate potentially malicious documents, reducing possible attack vectors.

æ€»ä¹‹ï¼Œæ˜¯**æµè§ˆå™¨**é™åˆ¶äº†è¿™ç§è¡Œä¸ºã€‚è¿™æ˜¯æµè§ˆå™¨çš„ä¸€ç§å®‰å…¨æœºåˆ¶ã€‚å¯ä»¥é˜²æ­¢éåŒæºçš„æ¥å£è®¿é—®ä»¥åŠ DOM æŸ¥è¯¢ã€‚æ€»ä¹‹ï¼Œè¿™æ˜¯ä¸ºäº†ä½ å¥½å“¦ï½

#### è§£å†³æ–¹æ¡ˆä¸€ï¼šJSONP

åœ¨ HTML æ ‡ç­¾é‡Œï¼Œä¸€äº›æ ‡ç­¾æ¯”å¦‚ scriptã€img è¿™æ ·çš„è·å–èµ„æºçš„æ ‡ç­¾æ˜¯æ²¡æœ‰è·¨åŸŸé™åˆ¶çš„ã€‚

åˆ©ç”¨è¿™ä¸ªå°å°çš„ç ´ç»½ï¼Œæˆ‘ä»¬å¯ä»¥ï¼š

```js
// åç«¯ä»£ç ï¼š
static async jsonp (ctx) {
  // å‰ç«¯ä¼ è¿‡æ¥çš„å‚æ•°
  const query = ctx.request.query
  // è®¾ç½®ä¸€ä¸ª cookies
  ctx.cookies.set('tokenId', '1')
  // query.cb æ˜¯å‰åç«¯çº¦å®šçš„æ–¹æ³•åå­—ï¼Œå…¶å®å°±æ˜¯åç«¯è¿”å›ä¸€ä¸ªç›´æ¥æ‰§è¡Œçš„æ–¹æ³•ç»™å‰ç«¯ï¼Œç”±äºå‰ç«¯æ˜¯ç”¨ script æ ‡ç­¾å‘èµ·çš„è¯·æ±‚ï¼Œæ‰€ä»¥è¿”å›äº†è¿™ä¸ªæ–¹æ³•åç›¸å½“äºç«‹é©¬æ‰§è¡Œï¼Œå¹¶ä¸”æŠŠè¦è¿”å›çš„æ•°æ®æ”¾åœ¨æ–¹æ³•çš„å‚æ•°é‡Œã€‚
  ctx.body = `${query.cb}(${JSON.stringify(successBody({msg: query.msg}, 'success'))})`
}
```

å‰ç«¯ä»£ç ï¼š

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
  </head>
  <body>
    <script type='text/javascript'>
      // callback
      window.jsonpCb = function (res) {
        console.log(res)
      }
    </script>
    <script src='http://localhost:8000/api/jsonp?msg=helloJsonp&cb=jsonpCb' type='text/javascript'></script>
  </body>
</html>
```

è¿™ç§è·¨åŸŸçš„æ–¹å¼åªèƒ½å‘é€ GETï¼Œå¦‚æœæƒ³å‘é€ POST è¯·æ±‚ã€‚ã€‚ã€‚

#### è§£å†³æ–¹æ³•äºŒï¼šiframe + form

```js
const requestPost = ({url, data}) => {
  // é¦–å…ˆåˆ›å»ºä¸€ä¸ªç”¨æ¥å‘é€æ•°æ®çš„ iframeã€‚
  const iframe = document.createElement('iframe')
  iframe.name = 'iframePost'
  iframe.style.display = 'none'
  document.body.appendChild(iframe)
  const form = document.createElement('form')
  const node = document.createElement('input')
  // æ³¨å†Œ iframe çš„ load äº‹ä»¶å¤„ç†ç¨‹åºï¼Œå¦‚æœä½ éœ€è¦åœ¨å“åº”è¿”å›æ—¶æ‰§è¡Œä¸€äº›æ“ä½œçš„è¯ã€‚
  iframe.addEventListener('load', function () {
    console.log('post success')
  })

  form.action = url
  // åœ¨æŒ‡å®šçš„ iframe ä¸­æ‰§è¡Œ form
  form.target = iframe.name
  form.method = 'post'
  for (let name in data) {
    node.name = name
    node.value = data[name].toString()
    form.appendChild(node.cloneNode())
  }
  // è¡¨å•å…ƒç´ éœ€è¦æ·»åŠ åˆ°ä¸»æ–‡æ¡£ä¸­
  form.style.display = 'none'
  document.body.appendChild(form)
  form.submit()

  // è¡¨å•æäº¤åï¼Œå°±å¯ä»¥åˆ é™¤è¿™ä¸ªè¡¨å•ï¼Œä¸å½±å“ä¸‹æ¬¡çš„æ•°æ®å‘é€
  document.body.removeChild(form)
}
// ä½¿ç”¨æ–¹å¼
requestPost({
  url: 'http://localhost:8000/api/iframePost',
  data: {
    msg: 'helloIframePost'
  }
})
```

#### è§£å†³æ–¹æ¡ˆä¸‰ï¼šCORS

CORS æ˜¯ä¸€ä¸ª W3C æ ‡å‡†ï¼Œå…¨ç§°æ˜¯â€œè·¨åŸŸèµ„æºå…±äº«â€ï¼ˆCross-origin resource sharingï¼‰è·¨åŸŸèµ„æºå…±äº« CORS è¯¦è§£ã€‚çœ‹åå­—å°±çŸ¥é“è¿™æ˜¯å¤„ç†è·¨åŸŸé—®é¢˜çš„æ ‡å‡†åšæ³•ã€‚CORS æœ‰ä¸¤ç§è¯·æ±‚ï¼Œç®€å•è¯·æ±‚å’Œéç®€å•è¯·æ±‚ã€‚

CORS éœ€è¦æµè§ˆå™¨å’ŒæœåŠ¡å™¨åŒæ—¶æ”¯æŒã€‚ç›®å‰ï¼Œæ‰€æœ‰æµè§ˆå™¨éƒ½æ”¯æŒè¯¥åŠŸèƒ½ï¼ŒIE æµè§ˆå™¨ä¸èƒ½ä½äº IE10ã€‚

æ•´ä¸ª CORS é€šä¿¡è¿‡ç¨‹ï¼Œéƒ½æ˜¯æµè§ˆå™¨è‡ªåŠ¨å®Œæˆï¼Œä¸éœ€è¦ç”¨æˆ·å‚ä¸ã€‚**å¯¹äºå¼€å‘è€…æ¥è¯´ï¼ŒCORS é€šä¿¡ä¸åŒæºçš„ AJAX é€šä¿¡æ²¡æœ‰å·®åˆ«ï¼Œä»£ç å®Œå…¨ä¸€æ ·**ã€‚æµè§ˆå™¨ä¸€æ—¦å‘ç° AJAX è¯·æ±‚è·¨æºï¼Œå°±ä¼šè‡ªåŠ¨æ·»åŠ ä¸€äº›é™„åŠ çš„å¤´ä¿¡æ¯ï¼Œæœ‰æ—¶è¿˜ä¼šå¤šå‡ºä¸€æ¬¡é™„åŠ çš„è¯·æ±‚ï¼Œä½†ç”¨æˆ·ä¸ä¼šæœ‰æ„Ÿè§‰ã€‚

#### è§£å†³æ–¹æ¡ˆå››ï¼šè·¨åŸŸ DOM æŸ¥è¯¢çš„æ­£ç¡®æ–¹å¼ï¼špostMessage

`window.postMessage()` æ˜¯ HTML5 çš„ä¸€ä¸ªæ¥å£ï¼Œä¸“æ³¨å®ç°ä¸åŒçª—å£ä¸åŒé¡µé¢çš„è·¨åŸŸé€šè®¯ã€‚

æ¶ˆæ¯å‘é€ï¼š

```html
<template>
  <div>
    <button @click="postMessage">å‘æ¶ˆæ¯</button>
    <iframe name="crossDomainIframe" src="http://crossdomain.com:9099"></iframe>
  </div>
</template>

<script>
export default {
  mounted () {
    window.addEventListener('message', (e) => {
      // è¿™é‡Œä¸€å®šè¦å¯¹æ¥æºåšæ ¡éªŒ
      if (e.origin === 'http://crossdomain.com:9099') {
        // æ¥è‡ª http://crossdomain.com:9099 çš„ç»“æœå›å¤
        console.log(e.data)
      }
    })
  },
  methods: {
    // å‘ http://crossdomain.com:9099 å‘æ¶ˆæ¯
    postMessage () {
      const iframe = window.frames['crossDomainIframe']
      iframe.postMessage('æˆ‘æ˜¯[http://localhost:9099], éº»çƒ¦ä½ æŸ¥ä¸€ä¸‹ä½ é‚£è¾¹æœ‰æ²¡æœ‰idä¸ºappçš„Dom', 'http://crossdomain.com:9099')
    }
  }
}
</script>
```

æ¶ˆæ¯æ¥æ”¶æ–¹ï¼š

```html
<template>
  <div>
    æˆ‘æ˜¯http://crossdomain.com:9099
  </div>
</template>

<script>
export default {
  mounted () {
    window.addEventListener('message', (e) => {
      // è¿™é‡Œä¸€å®šè¦å¯¹æ¥æºåšæ ¡éªŒ
      if (e.origin === 'http://localhost:9099') {
        // http://localhost:9099å‘æ¥çš„ä¿¡æ¯
        console.log(e.data)
        // e.source å¯ä»¥æ˜¯å›ä¿¡çš„å¯¹è±¡ï¼Œå…¶å®å°±æ˜¯ http://localhost:9099 çª—å£å¯¹è±¡(window)çš„å¼•ç”¨
        // e.origin å¯ä»¥ä½œä¸º targetOrigin
        e.source.postMessage(`æˆ‘æ˜¯[http://crossdomain.com:9099]ï¼Œæˆ‘çŸ¥é“äº†å…„å¼Ÿï¼Œè¿™å°±æ˜¯ä½ æƒ³çŸ¥é“çš„ç»“æœï¼š${document.getElementById('app') ? 'æœ‰idä¸ºappçš„Dom' : 'æ²¡æœ‰idä¸ºappçš„Dom'}`, e.origin);
      }
    })
  }
}
</script>
```

### 6. http/https çš„åŒºåˆ«

ğŸ”—ï¼šhttps://juejin.im/entry/58d7635e5c497d0057fae036

è¶…æ–‡æœ¬ä¼ è¾“åè®®HTTPåè®®è¢«ç”¨äºåœ¨Webæµè§ˆå™¨å’Œç½‘ç«™æœåŠ¡å™¨ä¹‹é—´ä¼ é€’ä¿¡æ¯ï¼ŒHTTPåè®®ä»¥æ˜æ–‡æ–¹å¼å‘é€å†…å®¹ï¼Œä¸æä¾›ä»»ä½•æ–¹å¼çš„æ•°æ®åŠ å¯†ï¼Œå¦‚æœæ”»å‡»è€…æˆªå–äº†Webæµè§ˆå™¨å’Œç½‘ç«™æœåŠ¡å™¨ä¹‹é—´çš„ä¼ è¾“æŠ¥æ–‡ï¼Œå°±å¯ä»¥ç›´æ¥è¯»æ‡‚å…¶ä¸­çš„ä¿¡æ¯ï¼Œå› æ­¤ï¼ŒHTTPåè®®ä¸é€‚åˆä¼ è¾“ä¸€äº›æ•æ„Ÿä¿¡æ¯ï¼Œæ¯”å¦‚ï¼šä¿¡ç”¨å¡å·ã€å¯†ç ç­‰æ”¯ä»˜ä¿¡æ¯ã€‚

ä¸ºäº†è§£å†³HTTPåè®®çš„è¿™ä¸€ç¼ºé™·ï¼Œéœ€è¦ä½¿ç”¨å¦ä¸€ç§åè®®ï¼šå®‰å…¨å¥—æ¥å­—å±‚è¶…æ–‡æœ¬ä¼ è¾“åè®®HTTPSï¼Œä¸ºäº†æ•°æ®ä¼ è¾“çš„å®‰å…¨ï¼ŒHTTPSåœ¨HTTPçš„åŸºç¡€ä¸ŠåŠ å…¥äº†SSLåè®®ï¼ŒSSLä¾é è¯ä¹¦æ¥éªŒè¯æœåŠ¡å™¨çš„èº«ä»½ï¼Œå¹¶ä¸ºæµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡åŠ å¯†ã€‚

